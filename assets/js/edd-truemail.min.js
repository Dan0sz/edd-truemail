document.addEventListener("DOMContentLoaded",()=>{var emailField=document.getElementById("edd-email"),message=document.createElement("div");function set_loader(){var emailField=document.getElementById("edd-email");emailField.classList.remove("edd-truemail-success"),emailField.classList.remove("edd-truemail-warning"),emailField.classList.add("edd-truemail-loading")}function remove_loader(){var emailField;document.getElementById("edd-email").classList.remove("edd-truemail-loading")}message.classList.add("edd-truemail-message"),emailField.insertAdjacentElement("afterend",message),emailField.addEventListener("change",()=>{emailField.classList.remove("edd-truemail-success"),emailField.classList.remove("edd-truemail-warning")}),emailField.addEventListener("blur",()=>{if(emailField.classList.contains("edd-truemail-success"))return;var add_message=!1;set_loader();const form=new FormData;form.append("action","edd_truemail_verify_email"),form.append("email",emailField.value),fetch(edd_global_vars.ajaxurl,{method:"POST",body:form}).then(response=>response.json()).then(response=>{0!==response?(200===response.data.status&&!0===response.data.success?(emailField.classList.remove("edd-truemail-warning"),emailField.classList.add("edd-truemail-success")):200===response.data.status&&!1===response.data.success?(emailField.classList.remove("edd-truemail-success"),emailField.classList.add("edd-truemail-warning"),add_message=!0):(emailField.classList.remove("edd-truemail-success"),emailField.classList.remove("edd-truemail-warning")),message.innerHTML=!0===add_message?"<sup><em>"+response.data.message+"</em></sup>":"",remove_loader()):remove_loader()})})});